<node>
  <type_nodetype>1491416</type_nodetype>
  <doctext>&lt;p&gt;
So, follow the example/instructions below. Hit 'Format' to preview, 'Source' for the source to cut and paste.
&lt;/p&gt;

&lt;p&gt;
Oh, and Internet Explorer seems to be somewhat broken in that when when I ask for the IFRAME's document, all I can seem to get hold of is the parent document. So. Don't use IE. Or if you do, you have to press 'Back' after a preview or getting the source code.
&lt;/p&gt;

&lt;script&gt;&lt;!--
document.write(unescape(&quot;%3Cscript%3E%3C%21--%0A//%20TableMaker%0A%0Afunction%20displayText%20%28html%29%20%7B%0A%20%20%20%20//%20Reduce%20HTML%20to%20a%20textual%20form%20that%20has%20the%20invariant%20that%0A%20%20%20%20//%20it%27s%20display%20width%20and%20length%20will%20match%20the%20width%20of%20the%0A%20%20%20%20//%20displayed%20HTML%20in%20a%20%3Cpre%3E%20block.%0A%20%20%20%20return%20html%0A%20%20%20%20%20%20%20%20.replace%28/%5C%5B%5B%5E%5C%5D%5D*%5C%7C/g%2C%20%27%27%29%20//%20Take%20out%20pipelinks%0A%20%20%20%20%20%20%20%20.replace%28/%5C%5B/g%2C%20%27%27%29%20%20%20%20%20%20%20%20%20//%20normal%20link%20opening%0A%20%20%20%20%20%20%20%20.replace%28/%5C%5D/g%2C%20%27%27%29%20%20%20%20%20%20%20%20%20//%20link%20closing%0A%20%20%20%20%20%20%20%20.replace%28/%26%5B%5E%3B%5D*%3B/g%2C%20%27*%27%29%20%20%20//%20entities%0A%20%20%20%20%20%20%20%20.replace%28/%3C%5B%5E%3E%5D*%3E/g%2C%20%27%27%29%3B%20%20%20//%20HTML%20tags%0A%7D%0A%0Afunction%20stripSpace%20%28html%29%20%7B%0A%20%20%20%20return%20html%0A%20%20%20%20%20%20%20%20.replace%28/%5Cs*%24/g%2C%20%27%27%29%0A%20%20%20%20%20%20%20%20.replace%28/%5E%5Cs*/g%2C%20%27%27%29%3B%0A%7D%0A%0Afunction%20measureTable%28rows%29%20%7B%0A%20%20%20%20var%20widths%20%3D%20new%20Array%3B%0A%20%20%20%20for%20%28var%20row%20in%20rows%29%20%7B%0A%20%20%20%20%20%20%20%20for%20%28var%20col%20in%20rows/*%5B*/%5Brow/*%5D*/%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20length%20%3D%20displayText%28rows%5Brow%5D%5Bcol%5D%29.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28length%20%3E%20widths%5Bcol%5D%20%7C%7C%20widths.length%20%3C%3D%20col%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20widths%5Bcol%5D%20%3D%20length%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20widths%3B%0A%7D%0A%0Afunction%20repeat%28str%2C%20num%29%20%7B%0A%20%20%20%20var%20s%3D%22%22%3B%0A%20%20%20%20for%20%28var%20i%3D0%3B%20i%3Cnum%3B%20i++%29%20%7B%0A%20%20%20%20%20%20%20%20s%20+%3D%20str%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20s%3B%0A%7D%0A%0Afunction%20zip%20%28insert%2C%20array%29%20%7B%0A%20%20%20%20var%20result%20%3D%20new%20Array%3B%0A%20%20%20%20for%20%28var%20i%20in%20array%29%20%7B%0A%20%20%20%20%20%20%20%20if%20%28i%20%21%3D%200%29%0A%20%20%20%20%20%20%20%20%20%20%20%20result%5Bi*2-1%5D%20%3D%20insert%3B%0A%20%20%20%20%20%20%20%20result%5Bi*2%5D%20%3D%20array%5Bi%5D%3B%0A%20%20%20%20%7D%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20return%20result%3B%0A%7D%0A%0A%0Afunction%20spaceColumns%20%28rows%2C%20sep%29%20%7B%0A%20%20for%20%28var%20r%20in%20rows%29%0A%20%20%20%20%20%20%20%20rows%5Br%5D%20%3D%20zip%20%28sep%2C%20rows%5Br%5D%29%3B%0A%7D%0A%0Afunction%20render%20%28rows%2C%20indent%29%20%7B%0A%20%20%20%20//%20Preview%20it%20in%20the%20ouptput%20cell.%0A%20%20%20%20var%20widths%20%3D%20measureTable%28rows%29%3B%0A%20%20%20%20var%20result%3D%22%22%3B%0A%20%20%20%20for%20%28var%20r%20in%20rows%29%20%7B%0A%20%20%20%20%20%20%20%20result%20+%3D%20indent%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20c%20in%20rows%5Br%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20var%20t%20%3D%20rows%5Br%5D%5Bc%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20result%20+%3D%20t%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20+%20repeat%28%27%20%27%2C%20widths%5Bc%5D%20-%20displayText%28t%29.length%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20result%20+%3D%20%22%5Cn%22%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20result%3B%0A%7D%0A%0Afunction%20format%20%28input%2C%20sep%2C%20indent%29%20%7B%0A%20%20%20%20var%20cols%3D0%2C%20this_cols%3B%0A%0A%20%20%20%20//%20Construct%20row%20and%20column%20arrays.%0A%20%20%20%20var%20rows%20%3D%20new%20Array%3B%0A%20%20%20%20var%20raw_rows%20%3D%20input.split%28%22%5Cn%22%29%3B%0A%20%20%20%20for%20%28var%20i%20in%20raw_rows%29%20%7B%0A%20%20%20%20%20%20%20%20rows%5Bi%5D%20%3D%20raw_rows%5Bi%5D.split%28%22%2C%22%29%3B%0A%20%20%20%20%20%20%20%20if%20%28rows%5Bi%5D.length%20%3E%20cols%29%0A%20%20%20%20%20%20%20%20%20%20%20%20cols%20%3D%20rows%5Bi%5D.length%3B%0A%20%20%20%20%20%20%20%20for%20%28var%20c%20in%20rows%5Bi%5D%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20rows%5Bi%5D%5Bc%5D%20%3D%20stripSpace%28rows%5Bi%5D%5Bc%5D%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%0A%20%20%20%20spaceColumns%28rows%2C%20sep%29%3B%0A%20%20%20%20return%20render%28rows%2C%20indent%29%3B%0A%7D%0A%0Afunction%20Fmt%20%28inputId%2C%20outputId%2C%20sepId%2C%20indentId%29%20%7B%0A%20%20%20%20var%20input%20%3D%20document.getElementById%28inputId%29.value%3B%0A%20%20%20%20var%20sep%20%3D%20document.getElementById%28sepId%29.value%3B%0A%20%20%20%20var%20indent%20%3D%20document.getElementById%28indentId%29.value%3B%0A%0A%20%20%20%20var%20ruler%3Drepeat%28repeat%28%27.%27%2C%204%29+%27%3A%27%2C%2015%29%3B%0A%20%20%20%20show%28outputId%2C%20%22%3Cpre%3E%22%20+%20ruler%20+%20%22%5Cn%22%20+%0A%20%20%20%20%20%20%20%20%20%20%20%20format%28input%2C%20sep%2C%20indent%29%0A%20%20%20%20%20%20%20%20%20%20%20%20+%20%22%3C/pre%3E%22%29%3B%0A%7D%0A%0A%0Afunction%20Source%20%28inputId%2C%20outputId%2C%20sepId%2C%20indentId%29%20%7B%0A%20%20%20%20var%20input%20%3D%20document.getElementById%28inputId%29.value%3B%0A%20%20%20%20var%20sep%20%3D%20document.getElementById%28sepId%29.value%3B%0A%20%20%20%20var%20indent%20%3D%20document.getElementById%28indentId%29.value%3B%0A%0A%20%20%20%20show%28outputId%2C%20%22%3Ctextarea%20cols%3D%5C%2260%5C%22%20rows%3D%5C%2216%5C%22%3E%22%20+%0A%20%20%20%20%20%20%20%20%20%20%20%20format%28input%2C%20sep%2C%20indent%29%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.replace%28/%26/g%2C%20%27%26amp%3B%27%29%0A%20%20%20%20%20%20%20%20%20%20%20%20+%20%22%3C/textarea%3E%22%29%3B%0A%7D%0A%0A%0Afunction%20dump%28ob%2C%20name%29%20%7B%0A%20%20%20%20var%20result%20%3D%20name%20+%22%3A%3A%20%22%20+%20ob%20+%20%22%5Cn%22%3B%0A%20%20%20%20for%20%28var%20i%20in%20ob%29%20%7B%0A%20%20%20%20%20%20%20%20result%20+%3D%20i%20+%20%22%3A%20%22%20+%20ob%5Bi%5D%20+%20%22%5Cn%22%3B%0A%20%20%20%20%7D%0A%20%20%20%20alert%28result%29%3B%0A%20%20%20%20//%20document.getElementById%28%27output%27%29.value%20%3D%20result%3B%0A%7D%0A%0Afunction%20show%20%28iframe%2C%20text%29%20%7B%0A%20%20%20%20var%20d%20%3D%20document.getElementById%28iframe%29.contentDocument%0A%20%20%20%20%20%20%20%20%7C%7C%20document.getElementById%28iframe%29.document%3B%0A%20%20%20%20var%20ruler%3Drepeat%28repeat%28%27.%27%2C%204%29+%27%3A%27%2C%2015%29%3B%0A%20%20%20%20d.clear%28%29%3B%0A%20%20%20%20d.write%28%22%3Chtml%3E%22+text+%22%3C/html%3E%22%29%3B%0A%20%20%20%20d.close%28%29%3B%0A%7D%0A%0A//--%3E%3C/script%3E%0A%0A%20%20%20%20%3Cform%3E%0A%20%20%20%20%0A%20%20%20%20%3Cinput%20type%3D%22button%22%20value%3D%22Format%22%0A%20%20%20%20%20%20%20%20onClick%3D%22Fmt%28%27input%27%2C%20%27preview%27%2C%20%27sep%27%2C%20%27indent%27%29%22%3E%0A%20%20%20%20%3Cinput%20type%3D%22button%22%20value%3D%22Source%22%0A%20%20%20%20%20%20%20%20onClick%3D%22Source%28%27input%27%2C%20%27preview%27%2C%20%27sep%27%2C%20%27indent%27%29%22%3E%0A%20%20%20%20%0A%20%20%20%20%3Clabel%20for%3D%22indent%22%3EIndent%3A%3C/label%3E%0A%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22indent%22%20value%3D%22%20%20%20%20%22%20size%3D%228%22%3E%0A%20%20%20%20%0A%20%20%20%20%3Clabel%20for%3D%22sep%22%3EColumn%20separator%3A%20%3C/label%3E%0A%20%20%20%20%3Cinput%20type%3D%22text%22%20id%3D%22sep%22%20value%3D%22%20%7C%20%22%20size%3D%224%22%3E%0A%0A%20%20%20%20%3Cbr/%3E%0A%0A%20%20%20%20%3Ctextarea%20id%3D%22input%22%20cols%3D%2260%22%20rows%3D%2210%22%3E%0A%3Cstrong%3EElement%3C/strong%3E%2C%20%20%20%20%20%3Cstrong%3EPurpose%3C/strong%3E%0A%26amp%3B%23x2c%3B%2C%20%20%20%20%20%20%20%20%20separates%20columns%20from%20each%20other%0A%28newline%29%2C%20%20%20%20%20%20separates%20rows%0A%26amp%3Bamp%3B%23x2c%3B%2C%20%20%20%20%20looks%20like%20a%20comma%26amp%3B%23x2c%3B%20but%20doesn%27t%0A%20%20%20%20%20%20%20%20%20%20%20%20%2C%20%20%20mark%20the%20end%20of%20a%20column.%3C/textarea%3E%3Cbr%20/%3E%0A%0A%20%20%20%20%3Ciframe%20width%3D%22100%25%22%20height%3D%22512%22%20id%3D%22preview%22%3E%3C/iframe%3E%0A%20%20%20%20%3C/form%3E%0A&quot;));
// --&gt;&lt;/script&gt;
</doctext>
  <title>Writeup table formatting utility</title>
  <node_id>1490561</node_id>
</node>
