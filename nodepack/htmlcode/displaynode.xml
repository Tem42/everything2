<node>
  <type_nodetype>4</type_nodetype>
  <modperlsafe>1</modperlsafe>
  <node_id>33</node_id>
  <title>displayNODE</title>
  <code>my ($limit) = @_;

return unless $APP-&gt;isAdmin($USER);

$limit ||= 90000;
my $str = '';
my @noShow = ('table', 'type_nodetype', 'passwd');

foreach my $key (keys %$NODE) {
  unless (grep /^$key$/, @noShow) {
    $str .= &quot;&lt;li&gt;&lt;B&gt;$key: &lt;/B&gt;&quot;;
    
    if ($key &amp;&amp; $key =~ /\_/ &amp;&amp; !($key =~ /\_id/))
    {
       $str .= linkNode $$NODE{$key}, &quot;&quot; if($$NODE{$key});
       $str .= &quot;none&quot; unless($$NODE{$key});
    }			
    elsif ($$NODE{$key} and (ref $$NODE{$key} eq &quot;HASH&quot; or ref $$NODE{$key} =~ /^Everything::node/i)) {
      $str .= linkNode $$NODE{$key}, &quot;&quot;, {lastnode =&gt; getId ($NODE)};
    } else {$str .= $$NODE{$key} if (length ($$NODE{$key}) &lt; $limit);}	
  $str .= &quot;&lt;BR&gt;\n&quot;;
  }
}

$str;</code>
</node>
