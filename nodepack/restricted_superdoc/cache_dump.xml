<node>
  <type_nodetype>13</type_nodetype>
  <doctext>This is what the cache contains&lt;br&gt;
[% &quot;(Process ID: $$)\n&quot;; %]
&lt;p&gt;
[%

my $cache = $DB-&gt;getCache()-&gt;dumpCache();
my $num = $DB-&gt;getCache()-&gt;getCacheSize();
my $str = &quot;Cache size: $num\n&quot;;
my $item;

$str .= &quot;&lt;ul&gt;\n&quot;;

my $typestats;

foreach my $cache_entry (@$cache)
{
  my $item;
  if(ref $cache_entry eq &quot;ARRAY&quot;)
  {
    $item = $cache_entry-&gt;[0];
  }else{
    $item = $cache_entry;
  }

  $typestats-&gt;{$item-&gt;{type}-&gt;{title}} ||= 0;
  $typestats-&gt;{$item-&gt;{type}-&gt;{title}}++;
   
  my $extrainfo = &quot;&quot;;
  if($item-&gt;{type}-&gt;{title} eq &quot;htmlcode&quot;)
  {
     if(exists($item-&gt;{compiledCode}))
     {
        $extrainfo = &quot; - has compiled code&quot;;
     }else{
        $extrainfo = &quot; - no compiled code&quot;;
     }
  }

  $str .= &quot;&lt;li&gt; $$item{title} (&quot; . $$item{type}{title} .
    &quot;$extrainfo)\n&quot;;
}

$str .= &quot;&lt;/ul&gt;&lt;br /&gt;&lt;br /&gt;Counts: &lt;ul&gt;&quot;;

foreach my $key(keys %$typestats)
{
  $str .= &quot;&lt;li&gt;$key: &quot;.$typestats-&gt;{$key}
}
$str .= &quot;&lt;/ul&gt;&quot;;

$str;
%]</doctext>
  <node_id>372563</node_id>
  <title>cache dump</title>
</node>
